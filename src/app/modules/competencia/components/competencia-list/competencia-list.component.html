<p-card>
    <div class="grid mb-3 mt-2 pl-2 pr-2 align-items-center">
        <h2>Listagem de Competências</h2>
        <span class="col"></span>
        <button pButton type="button" class="ui-button-success" icon="ui-icon-plus" label="Nova Competência"
            (click)="showModal()"></button>
    </div>
    <p-table [value]="competencias" [responsive]="true" paginator="true" rows="10">
        <ng-template pTemplate="header">
            <tr>
                <th>Nome</th>
                <th>Descrição</th>
                <th>Categoria</th>
                <th [ngStyle]="{'width': '125px'}">Ações</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-competencia>
            <tr>
                <td>{{competencia.nome}}</td>
                <td>{{competencia.descricao}}</td>
                <td>{{competencia.categoria.nome}}</td>
                <td style="text-align: center">
                    <button pButton pRipple type="button" class="p-button-raised" icon="ui-icon-pencil"
                        (click)="navegar(competencia.id)"></button>
                    <button pButton type="button" class="p-button-raised ui-button-danger" icon="ui-icon-trash"
                        (click)="excluir(competencia)"></button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</p-card>

<p-dialog header="Competência" [(visible)]="displayModal" [modal]="true" [style]="{width: '60vw'}"
    [draggable]="false">
    <app-competencia-form *ngIf="displayModal" [competencia]=""></app-competencia-form>
    <p-footer>
        <div>
            <button pButton type="button" label="Salvar" icon="ui-icon-check" iconPos="left" class="p-button-secondary"></button>
            <button pButton type="button" label="Cancelar" icon="ui-icon-times" iconPos="left" class="p-button-secondary"></button>
        </div>
    </p-footer>
</p-dialog>